<!DOCTYPE html>
<html>
	<head>
		<title>Music Player</title>
		<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,600,900|Overlock">
		<style>
			select {
				font-family: Overlock;
			}
			body {
				font-family: Montserrat;
			}
			button {
				height: 50px;
				width: 50px;
				line-height: 50px;
				text-align: center;
			}
			h1 {font-weight: 900; font-size: 60px; margin: 0; text-align: center;}
			h2 {font-weight: 600; font-size: 40px; margin: 0; text-align: center;}
			div {text-align: center;}
			#currentPos, #length {
				font-family: Overlock;
				width: 6%;
				font-size: 24px;
			}
			#currentPos {text-align: right; padding-right: 1%;}
			#length {text-align: left; padding-left: 1%;}
			progress {-webkit-appearance: none; width: 86%; height: 24px;}
			progress::-webkit-progress-bar {background: white; border: 1px solid black;}
			progress::-webkit-progress-value {background: black;}
		</style>
	</head>
	<body>
	  <select id="song" onchange="change()">
			<option selected>Select a song</option>
	    <option value="Barracuda">Barracuda</option>
	    <option value="Cascade">Cascade</option>
	    <option value="Cheat Codes">Cheat Codes</option>
	    <option value="Checkpoint">Checkpoint</option>
	    <option value="Chip Zeal">Chip Zeal</option>
	    <option value="Chronos">Chronos</option>
	    <option value="Commando Steve">Commando Steve</option>
	    <option value="Cool Friends">Cool Friends</option>
	    <option value="Core">Core</option>
	    <option value="Corrupted">Corrupted</option>
	    <option value="Courtesy">Courtesy</option>
	    <option value="Cruise Control">Cruise Control</option>
	    <option value="Dance of the Incognizant">Dance of the Incognizant</option>
	    <option value="Destroid 10 - Funk Hole">Destroid 10 - Funk Hole</option>
	    <option value="Destroid 8 - Annihilate">Destroid 8 - Annihilate</option>
	    <option value="Final Boss">Final Boss</option>
	    <option value="Focus">Focus</option>
	    <option value="FOX">FOX</option>
	    <option value="FTW">FTW</option>
	    <option value="Houston">Houston</option>
	    <option value="HYPE">HYPE</option>
	    <option value="Into The Zone">Into The Zone</option>
	    <option value="Legacy">Legacy</option>
	    <option value="Logic Gatekeeper">Logic Gatekeeper</option>
	    <option value="Long Live The New Fresh">Long Live The New Fresh</option>
	    <option value="Milky Ways">Milky Ways</option>
	    <option value="New Game">New Game</option>
	    <option value="On The Run">On The Run</option>
	    <option value="Once Again">Once Again</option>
	    <option value="Otis">Otis</option>
	    <option value="Paper Dolls">Paper Dolls</option>
	    <option value="Parallel Processing">Parallel Processing</option>
	    <option value="Peer Gynt">Peer Gynt</option>
	    <option value="Rainbow Road">Rainbow Road</option>
	    <option value="Sevcon">Sevcon</option>
	    <option value="Spectra">Spectra</option>
	    <option value="Sugar Rush">Sugar Rush</option>
	    <option value="Tension">Tension</option>
	    <option value="Termination Shock">Termination Shock</option>
	    <option value="The Art of War">The Art of War</option>
	    <option value="The Lunar Whale">The Lunar Whale</option>
      <option value="Till It's Over">Till It's Over</option>
      <option value="Tokyo Skies">Tokyo Skies</option>
      <option value="Try This">Try This</option>
      <option value="Unlocked">Unlocked</option>
      <option value="Vindicate Me">Vindicate Me</option>
      <option value="Wicked">Wicked</option>
    </select><br>
		<button onclick="toggle()">
			<canvas id="playBtnCanvas" width="40" height="40"></canvas>
		</button>
		<button onclick="nextSong()">
			<svg width="40" height="40">
				<polyline style="stroke: none; fill: black;" points="5,5 30,20 5,35 5,5" />
				<polyline style="stroke: none; fill: black;" points="30,5 35,5 35,35 30,35 30,5" />
			</svg>
		</button>
		<audio id="audio" style="visibility: hidden;" preload="metadata">
			<source src="">
		</audio>
		<div>Currently playing:</div>
		<h1 id="title">&nbsp;</h1>
		<div>- by -</div>
		<h2 id="artist">&nbsp;</h2>
		<div>
			<span id="currentPos">0:00</span><progress value="0" max="1" id="progress"></progress><span id="length">0:00</span>
		</div>
  </body>
	<script>
		var length = 0, audio = document.getElementById("audio");
		setInterval(playProgress, 0);
		function change() {
			audio.src = document.getElementById("song").value + ".mp3";
			length = audio.duration;
			audio.load();
			audio.play();
			playing();
		}
		function nextSong() {
			var songId = Math.ceil(Math.random() * 47);
			document.getElementById("song").selectedIndex = songId;
			audio.src = document.getElementById("song").value + ".mp3";
			audio.load();
			length = audio.duration;
			audio.play();
			playing();
		}
		function playing() {
			document.getElementById("title").innerHTML = document.getElementById("song").value;
			var artist = document.getElementById("artist");
			var index = (document.getElementById("song").selectedIndex) - 1;
			var lenElem = document.getElementById("length");
			switch (index) {
				case 0:
					artist.innerHTML = "Noisestorm";
					lenElem.innerHTML = "4:22";
					break;
				case 1:
					artist.innerHTML = "Kubbi";
					lenElem.innerHTML = "4:20";
					break;
				case 2: case 15: case 26:
					artist.innerHTML = "Nitro Fun";
					if (index == 2) {
						lenElem.innerHTML = "3:32";
					} else if (index == 15) {
						lenElem.innerHTML = "5:16";
					} else if (index == 26) {
						lenElem.innerHTML = "4:19";
					}
					break;
				case 3:
					artist.innerHTML = "Nitro Fun & Hyper Potions";
					lenElem.innerHTML = "3:43";
					break;
				case 4: case 19: case 34: case 45:
					artist.innerHTML = "Big Giant Circles";
					if (index == 4) {
						lenElem.innerHTML = "3:29";
					} else if (index == 19) {
						lenElem.innerHTML = "5:23";
					} else if (index == 34) {
						lenElem.innerHTML = "4:34";
					} else if (index == 45) {
						lenElem.innerHTML = "3:26";
					}
					break;
				case 5: case 9: case 22: case 23: case 31: case 40:
					artist.innerHTML = "Danimal Cannon & Zef";
					if (index == 5) {
						lenElem.innerHTML = "4:29";
					}
					break;
				case 6: case 25:
					artist.innerHTML = "Bossfight";
					break;
				case 7:
					artist.innerHTML = "Silva Hound";
					break;
				case 8: case 11: case 37:
					artist.innerHTML = "Zef";
					break;
				case 10: case 16: case 29: case 35: case 39: case 42:
					artist.innerHTML = "chipzel";
					break;
				case 12:
					artist.innerHTML = "FantomenK";
					break;
				case 13:
					artist.innerHTML = "Excision & Space Laces";
					break;
				case 14:
					artist.innerHTML = "Excision & Far Too Loud";
					break;
				case 17: case 21: case 27:
					artist.innerHTML = "Shirobon";
					break;
				case 18:
					artist.innerHTML = "Lets Be Friends";
					break;
				case 20:
					artist.innerHTML = "Tokyo Machine";
					break;
				case 24:
					artist.innerHTML = "Danimal Cannon";
					break;
				case 28: case 41:
					artist.innerHTML = "Tristam";
					break;
				case 30:
					artist.innerHTML = "Shawn Daley";
					break;
				case 32:
					artist.innerHTML = "cYsmix";
					break;
				case 33:
					artist.innerHTML = "nanobii";
					break;
				case 36:
					artist.innerHTML = "PIXL";
					break;
				case 38:
					artist.innerHTML = "Sabrepulse";
					break;
				case 43:
					artist.innerHTML = "Pegboard Nerds";
					break;
				case 44:
					artist.innerHTML = "Plesco";
					break;
				case 46:
					artist.innerHTML = "Avenza";
					break;
			}
			document.title = document.getElementById("song").value + " by " + artist.innerHTML;
			document.getElementById("song").selectedIndex = 47;
			audio.addEventListener("ended", function() {
				nextSong();
			});
		}
		function playProgress() {
			var currentPos = document.getElementById("audio").currentTime;
			var c_m = Math.floor(currentPos / 60);
			var c_s = Math.floor(currentPos % 60);
			document.getElementById("currentPos").innerHTML = c_m + ":" + ("0" + c_s).slice(-2);
			var progress = currentPos / length;
			document.getElementById("progress").value = progress;
		}
		function toggle() {
			var c = document.getElementById("playBtnCanvas").getContext("2d");
			c.clearRect(0, 0, 40, 40);
			c.fillStyle = "black";
			if (audio.paused == false) {
				audio.pause();
				c.beginPath();
				c.moveTo(5,5);
				c.lineTo(35,20);
				c.lineTo(5,35);
				c.lineTo(5,5);
				c.fill();
			} else if (audio.paused == true) {
				audio.play();
				c.beginPath();
				c.moveTo(5,5);
				c.lineTo(15,5);
				c.lineTo(15,35);
				c.lineTo(5,35);
				c.lineTo(5,5);
				c.moveTo(25,5);
				c.lineTo(35,5);
				c.lineTo(35,35);
				c.lineTo(25,35);
				c.lineTo(25,5);
				c.fill();
			}
		}
	</script>
</html>
